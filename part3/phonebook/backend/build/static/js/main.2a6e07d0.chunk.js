(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(14),o=t.n(r),u=t(4),i=t(2),l=function(e){return c.a.createElement("div",null,e.label,": ",c.a.createElement("input",{onChange:e.onChange,value:e.value}))},m=function(e){return c.a.createElement("form",{onSubmit:e.onSubmit},c.a.createElement(l,{label:"name",onChange:e.onNameChange,value:e.newName}),c.a.createElement(l,{label:"number",onChange:e.onNumChange,value:e.newNum}),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add")))},f=function(e){var n=e.message;return null===n.content?null:c.a.createElement("div",{className:"notification ".concat(n.type)},n.content)},s=function(e){return c.a.createElement("button",{onClick:e.onClick},"delete")},d=function(e){return c.a.createElement("p",null,e.person.name," ",e.person.number," ",c.a.createElement(s,{onClick:e.handleClick}))},h=function(e){return e.persons.map((function(n){return c.a.createElement(d,{key:n.id,person:n,handleClick:e.handleClick(n)})}))},b=t(3),p=t.n(b),E="/api/persons",v=function(){return p.a.get(E).then((function(e){return e.data}))},C=function(e){return p.a.post(E,e).then((function(e){return e.data}))},w=function(e,n){return p.a.put("".concat(E,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return p.a.delete("".concat(E,"/").concat(e)).then((function(e){return e.data}))},k=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(""),s=Object(i.a)(o,2),d=s[0],b=s[1],p=Object(a.useState)(""),E=Object(i.a)(p,2),k=E[0],j=E[1],y=Object(a.useState)(""),O=Object(i.a)(y,2),N=O[0],S=O[1],D=Object(a.useState)({content:null,type:"success"}),I=Object(i.a)(D,2),A=I[0],J=I[1];Object(a.useEffect)((function(){v().then((function(e){return r(e)}))}),[]);var L=function(e){return function(n){return e(n.target.value)}},P=t.filter((function(e){return e.name.toLowerCase().includes(N.toLowerCase())})),x=function(e){return setTimeout((function(){J(Object(u.a)(Object(u.a)({},A),{},{content:null}))}),e)};return c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(f,{message:A}),c.a.createElement(l,{label:"filter shown with",onChange:L(S),value:N}),c.a.createElement("h2",null,"Add new"),c.a.createElement(m,{onSubmit:function(e){e.preventDefault();var n={name:d,number:k},a=t.find((function(e){return e.name===d}));a?window.confirm("".concat(d," is already added to Phonebook, replace the old number with a new one?"))&&function(e,n){w(e,n).then((function(n){r(t.map((function(t){return t.id!==e?t:n}))),J({content:"Updated ".concat(n.name,"'s number"),type:"success"}),x(1500)})).catch((function(a){J({content:"Information of ".concat(n.name," has already been removed from server"),type:"error"}),x(1500),r(t.filter((function(n){return n.id!==e})))}))}(a.id,n):C(n).then((function(e){r(t.concat(e)),J({content:"Added ".concat(e.name),type:"success"}),x(1500)}));b(""),j("")},onNameChange:L(b),onNumChange:L(j),newName:d,newNum:k}),c.a.createElement("h2",null,"Numbers"),c.a.createElement(h,{persons:P,handleClick:function(e){return function(){window.confirm("Delete ".concat(e.name,"?"))&&g(e.id).then((function(n){var a=t.filter((function(n){return n.id!==e.id}));r(a),J({content:"Deleted ".concat(e.name," from server"),type:"success"}),x(1500)})).catch((function(n){J({content:"Information of ".concat(e.name," has already been removed from server"),type:"error"}),x(1500),r(t.filter((function(n){return n.id!==e.id})))}))}}}))};t(37);o.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2a6e07d0.chunk.js.map